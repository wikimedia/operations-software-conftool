{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "definitions": {
        "master": {
            "type": "object",
            "patternProperties": {
                "^([a-z]+[0-9]+)(:[0-9]+)?$": {"type": "integer"}
            },
            "minProperties": 1,
            "maxProperties": 1,
            "additionalProperties": false
        },
        "replicas": {
            "type": "object",
            "patternProperties": {
                "^([a-z]+[0-9]+)(:[0-9]+)?$": {"type": "integer"}
            },
            "additionalProperties": false
        },
        "section": {
            "type": "array",
            "items": [
                {"$ref": "#/definitions/master"},
                {"$ref": "#/definitions/replicas"}
            ],
            "minItems": 2,
            "maxItems": 2,
            "additionalProperties": false
        },
        "variable": {
            "type": "object",
            "patternProperties": {
                "DEFAULT": {"$ref": "#/definitions/section"},
                "^s[1-8]$": {"$ref": "#/definitions/section"},
                "wikitech": {"$ref": "#/definitions/section"}
            },
            "additionalProperties": false
        }
    },
    "description": "Represents a database instance specific to a section\n",
    "type": "object",
    "properties": {
        "val": {"$ref": "#/definitions/variable"}
    }
}
